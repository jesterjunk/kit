import{r as l}from"./index.BqJQxrZM.js";var S=(t=>(t.native="native",t.lossless="lossless",t.auto="auto",t))(S||{});function s(t,a){const[r,u]=l.useState(()=>{try{const n=window.localStorage.getItem(t);return n?JSON.parse(n):a}catch(n){return console.error(n),a}}),i=l.useCallback(n=>{try{const o=n instanceof Function?n(r):n;u(o),window.localStorage.setItem(t,JSON.stringify(o))}catch(o){console.error(o)}},[t,r]);return[r,i]}function M(){const t=l.useRef(null),[a,r]=s("indentation",2),[u,i]=s("tabSize",4),[n,o]=s("maxLineLength",80),[f,g]=s("escapeControlCharacters",!1),[C,L]=s("escapeUnicodeCharacters",!1),[I,z]=s("setFlattenColumns",!0),[x,y]=s("parserId",S.lossless),[p,b]=s("queryLanguageId","jsonquery"),[w,q]=s("theme","auto"),[v,E]=s("theme-color","default"),[F,T]=s("fontSize","14px"),U=e=>{q(e.theme),E(e.themeColor),T(e.fontSize),r(e.indentation),i(e.tabSize),o(e.maxLineLength),g(e.escapeControlCharacters),L(e.escapeUnicodeCharacters),z(e.flattenColumns),y(e.parserId),b(e.queryLanguageId)},h=e=>{const c=typeof e=="function"?e(m):e;return U(c),c},j=e=>{const c=h(e);t.current?.postMessage(c)};l.useEffect(()=>(t.current=new BroadcastChannel("jeo:config"),t.current.onmessage=e=>h(e.data),()=>t.current?.close()),[]);const m={indentation:a,tabSize:u,maxLineLength:n,escapeControlCharacters:f,escapeUnicodeCharacters:C,flattenColumns:I,parserId:x,queryLanguageId:p,theme:w,themeColor:v,fontSize:F};return[m,j]}export{S as P,s as a,M as u};
