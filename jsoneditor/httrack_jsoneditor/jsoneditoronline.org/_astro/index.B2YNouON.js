import{g as $n}from"./_commonjsHelpers.CqkleIqs.js";import{m as se,w as kn,p as Pn,G as yr,M as Mn,t as wr,r as In,q as fe,H as jn,F as Or,I as Sr,U as en,S as Ln,J as Er,B as Rn,v as we,E as Ar}from"./floating-ui.dom.BVVWGuUJ.js";import{l as z,j as Cr,h as Te,m as Fn,c as Q,S as Ee,d as Jn,w as Nr,r as _n,a as Bn,k as We,o as Ge,p as Ae,e as Tr,v as $r}from"./isEmpty.yPRxPQfS.js";import{a1 as kr,V as Pr,a2 as Mr,a as Ir,g as nn,R as jr,D as Lr}from"./index.-DrlcFrU.js";function ce(e){return Array.isArray(e)}function le(e){return e!==null&&typeof e=="object"&&(e.constructor===void 0||e.constructor.name==="Object")}function ja(e){return e&&typeof e=="object"?typeof e.op=="string":!1}function La(e){return e&&typeof e=="object"?e.op==="add":!1}function Ra(e){return e&&typeof e=="object"?e.op==="remove":!1}function Fa(e){return e&&typeof e=="object"?e.op==="replace":!1}function Ja(e){return e&&typeof e=="object"?e.op==="copy":!1}function _a(e){return e&&typeof e=="object"?e.op==="move":!1}function Ba(e){return e&&typeof e=="object"?e.op==="test":!1}function Rr(e,n){return JSON.stringify(e)===JSON.stringify(n)}function Fr(e,n){return e===n}function Un(e){return e.slice(0,e.length-1)}function Jr(e){return e[e.length-1]}function _r(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fr;if(e.length<n.length)return!1;for(let t=0;t<n.length;t++)if(!r(e[t],n[t]))return!1;return!0}function Dn(e){return typeof e=="object"&&e!==null}function ue(e){if(ce(e)){const n=e.slice();return Object.getOwnPropertySymbols(e).forEach(r=>{n[r]=e[r]}),n}else if(le(e)){const n={...e};return Object.getOwnPropertySymbols(e).forEach(r=>{n[r]=e[r]}),n}else return e}function qe(e,n,r){if(e[n]===r)return e;{const t=ue(e);return t[n]=r,t}}function X(e,n){let r=e,t=0;for(;t<n.length;)le(r)?r=r[n[t]]:ce(r)?r=r[parseInt(n[t])]:r=void 0,t++;return r}function ge(e,n,r){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n.length===0)return r;const i=n[0],s=ge(e?e[i]:void 0,n.slice(1),r,t);if(le(e)||ce(e))return qe(e,i,s);if(t){const a=Br.test(i)?[]:{};return a[i]=s,a}else throw new Error("Path does not exist")}const Br=/^\d+$/;function Wn(e,n,r){if(n.length===0)return r(e);if(!Dn(e))throw new Error("Path doesn't exist");const t=n[0],i=Wn(e[t],n.slice(1),r);return qe(e,t,i)}function Ke(e,n){if(n.length===0)return e;if(!Dn(e))throw new Error("Path does not exist");if(n.length===1){const i=n[0];if(i in e){const s=ue(e);return ce(s)&&s.splice(parseInt(i),1),le(s)&&delete s[i],s}else return e}const r=n[0],t=Ke(e[r],n.slice(1));return qe(e,r,t)}function Ve(e,n,r){const t=n.slice(0,n.length-1),i=n[n.length-1];return Wn(e,t,s=>{if(!Array.isArray(s))throw new TypeError("Array expected at path "+JSON.stringify(t));const a=ue(s);return a.splice(parseInt(i),0,r),a})}function rn(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const t=n(e,r);if(ce(t)){let i;for(let s=0;s<t.length;s++){const a=t[s],o=rn(a,n,r.concat(s+""));o!==a&&(i||(i=ue(t)),i[s]=o)}return i||t}else if(le(t)){let i;for(const s in t)if(Object.hasOwnProperty.call(t,s)){const a=t[s],o=rn(a,n,r.concat(s));o!==a&&(i||(i=ue(t)),i[s]=o)}return i||t}else return t}function $e(e,n){return e===void 0?!1:n.length===0?!0:e===null?!1:$e(e[n[0]],n.slice(1))}function Gn(e){const n=e.split("/");return n.shift(),n.map(r=>r.replace(/~1/g,"/").replace(/~0/g,"~"))}function H(e){return e.map(qn).join("")}function qn(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")}function Ua(e,n){return e+qn(n)}function Da(e,n){return e.startsWith(n)&&(e.length===n.length||e[n.length]==="/")}function Ur(e,n,r){let t=e;for(let i=0;i<n.length;i++){Qr(n[i]);let s=n[i];if(r&&r.before){const u=r.before(t,s);if(u!==void 0){if(u.document!==void 0&&(t=u.document),u.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');u.operation!==void 0&&(s=u.operation)}}const a=t,o=Kn(t,s.path);if(s.op==="add")t=Gr(t,o,s.value);else if(s.op==="remove")t=Wr(t,o);else if(s.op==="replace")t=Dr(t,o,s.value);else if(s.op==="copy")t=qr(t,o,Je(s.from));else if(s.op==="move")t=Kr(t,o,Je(s.from));else if(s.op==="test")Vr(t,o,s.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(s));if(r&&r.after){const u=r.after(t,s,a);u!==void 0&&(t=u)}}return t}function Dr(e,n,r){return ge(e,n,r)}function Wr(e,n){return Ke(e,n)}function Gr(e,n,r){return he(e,n)?Ve(e,n,r):ge(e,n,r)}function qr(e,n,r){const t=X(e,r);if(he(e,n))return Ve(e,n,t);{const i=X(e,r);return ge(e,n,i)}}function Kr(e,n,r){const t=X(e,r),i=Ke(e,r);return he(i,n)?Ve(i,n,t):ge(i,n,t)}function Vr(e,n,r){if(r===void 0)throw new Error(`Test failed: no value provided (path: "${H(n)}")`);if(!$e(e,n))throw new Error(`Test failed: path not found (path: "${H(n)}")`);const t=X(e,n);if(!Rr(t,r))throw new Error(`Test failed, value differs (path: "${H(n)}")`)}function he(e,n){if(n.length===0)return!1;const r=X(e,Un(n));return Array.isArray(r)}function xr(e,n){if(Jr(n)!=="-")return n;const r=Un(n),t=X(e,r);return r.concat(t.length)}function Qr(e){if(!["add","remove","replace","copy","move","test"].includes(e.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(e.op));if(typeof e.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(e));if((e.op==="copy"||e.op==="move")&&typeof e.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(e))}function Kn(e,n){return xr(e,Gn(n))}function Je(e){return Gn(e)}function Wa(e,n,r){let t=[];return Ur(e,n,{before:(s,a)=>{let o;const u=Kn(s,a.path);if(a.op==="add")o=Qn(s,u);else if(a.op==="remove")o=xn(s,u);else if(a.op==="replace")o=Vn(s,u);else if(a.op==="copy")o=Zr(s,u);else if(a.op==="move")o=Hr(s,u,Je(a.from));else if(a.op==="test")o=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(a));let g;if(r&&r.before){const c=r.before(s,a,o);if(c&&c.revertOperations&&(o=c.revertOperations),c&&c.document&&(g=c.document),c&&c.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(t=o.concat(t),g!==void 0)return{document:g}}}),t}function Vn(e,n){return[{op:"replace",path:H(n),value:X(e,n)}]}function xn(e,n){return[{op:"add",path:H(n),value:X(e,n)}]}function Qn(e,n){return he(e,n)||!$e(e,n)?[{op:"remove",path:H(n)}]:Vn(e,n)}function Zr(e,n){return Qn(e,n)}function Hr(e,n,r){if(n.length<r.length&&_r(r,n))return[{op:"replace",path:H(n),value:e}];const t={op:"move",from:H(n),path:H(r)};return!he(e,n)&&$e(e,n)?[t,...xn(e,n)]:[t]}var me={},tn;function zr(){if(tn)return me;tn=1;var e={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},n=97;me.parse=function(O,U,k){var y={},C=0,$=0,v=0,b=k&&k.bigint&&typeof BigInt<"u";return{data:N("",!0),pointers:y};function N(f,m){d();var E;l(f,"value");var P=L();switch(P){case"t":x("rue"),E=!0;break;case"f":x("alse"),E=!1;break;case"n":x("ull"),E=null;break;case'"':E=S();break;case"[":E=W(f);break;case"{":E=Z(f);break;default:G(),"-0123456789".indexOf(P)>=0?E=M():J()}return l(f,"valueEnd"),d(),m&&v<O.length&&J(),E}function d(){e:for(;v<O.length;){switch(O[v]){case" ":$++;break;case"	":$+=4;break;case"\r":$=0;break;case`
`:$=0,C++;break;default:break e}v++}}function S(){for(var f="",m;m=L(),m!='"';)m=="\\"?(m=L(),m in e?f+=e[m]:m=="u"?f+=I():R()):f+=m;return f}function M(){var f="",m=!0;O[v]=="-"&&(f+=L()),f+=O[v]=="0"?L():D(),O[v]=="."&&(f+=L()+D(),m=!1),(O[v]=="e"||O[v]=="E")&&(f+=L(),(O[v]=="+"||O[v]=="-")&&(f+=L()),f+=D(),m=!1);var E=+f;return b&&m&&(E>Number.MAX_SAFE_INTEGER||E<Number.MIN_SAFE_INTEGER)?BigInt(f):E}function W(f){d();var m=[],E=0;if(L()=="]")return m;for(G();;){var P=f+"/"+E;m.push(N(P)),d();var _=L();if(_=="]")break;_!=","&&R(),d(),E++}return m}function Z(f){d();var m={};if(L()=="}")return m;for(G();;){var E=h();L()!='"'&&R();var P=S(),_=f+"/"+T(P);A(_,"key",E),l(_,"keyEnd"),d(),L()!=":"&&R(),d(),m[P]=N(_),d();var K=L();if(K=="}")break;K!=","&&R(),d()}return m}function x(f){for(var m=0;m<f.length;m++)L()!==f[m]&&R()}function L(){q();var f=O[v];return v++,$++,f}function G(){v--,$--}function I(){for(var f=4,m=0;f--;){m<<=4;var E=L().toLowerCase();E>="a"&&E<="f"?m+=E.charCodeAt()-n+10:E>="0"&&E<="9"?m+=+E:R()}return String.fromCharCode(m)}function D(){for(var f="";O[v]>="0"&&O[v]<="9";)f+=L();if(f.length)return f;q(),J()}function l(f,m){A(f,m,h())}function A(f,m,E){y[f]=y[f]||{},y[f][m]=E}function h(){return{line:C,column:$,pos:v}}function J(){throw new SyntaxError("Unexpected token "+O[v]+" in JSON at position "+v)}function R(){G(),J()}function q(){if(v>=O.length)throw new SyntaxError("Unexpected end of JSON input")}},me.stringify=function(O,U,k){if(!t(O))return;var y=0,C,$,v=typeof k=="object"?k.space:k;switch(typeof v){case"number":var b=v>10?10:v<0?0:Math.floor(v);v=b&&A(b," "),C=b,$=b;break;case"string":v=v.slice(0,10),C=0,$=0;for(var N=0;N<v.length;N++){var d=v[N];switch(d){case" ":$++;break;case"	":$+=4;break;case"\r":$=0;break;case`
`:$=0,y++;break;default:throw new Error("whitespace characters not allowed in JSON")}C++}break;default:v=void 0}var S="",M={},W=0,Z=0,x=0,L=k&&k.es6&&typeof Map=="function";return G(O,0,""),{json:S,pointers:M};function G(h,J,R){switch(l(R,"value"),typeof h){case"number":case"bigint":case"boolean":I(""+h);break;case"string":I(c(h));break;case"object":h===null?I("null"):typeof h.toJSON=="function"?I(c(h.toJSON())):Array.isArray(h)?q():L?h.constructor.BYTES_PER_ELEMENT?q():h instanceof Map?m():h instanceof Set?m(!0):f():f()}l(R,"valueEnd");function q(){if(h.length){I("[");for(var E=J+1,P=0;P<h.length;P++){P&&I(","),D(E);var _=t(h[P])?h[P]:null,K=R+"/"+P;G(_,E,K)}D(J),I("]")}else I("[]")}function f(){var E=Object.keys(h);if(E.length){I("{");for(var P=J+1,_=0;_<E.length;_++){var K=E[_],re=h[K];if(t(re)){_&&I(",");var te=R+"/"+T(K);D(P),l(te,"key"),I(c(K)),l(te,"keyEnd"),I(":"),v&&I(" "),G(re,P,te)}}D(J),I("}")}else I("{}")}function m(E){if(h.size){I("{");for(var P=J+1,_=!0,K=h.entries(),re=K.next();!re.done;){var te=re.value,Xe=te[0],Ye=E?!0:te[1];if(t(Ye)){_||I(","),_=!1;var je=R+"/"+T(Xe);D(P),l(je,"key"),I(c(Xe)),l(je,"keyEnd"),I(":"),v&&I(" "),G(Ye,P,je)}re=K.next()}D(J),I("}")}else I("{}")}}function I(h){Z+=h.length,x+=h.length,S+=h}function D(h){if(v){for(S+=`
`+A(h,v),W++,Z=0;h--;)y?(W+=y,Z=$):Z+=$,x+=C;x+=1}}function l(h,J){M[h]=M[h]||{},M[h][J]={line:W,column:Z,pos:x}}function A(h,J){return Array(h+1).join(J)}};var r=["number","bigint","boolean","string","object"];function t(O){return r.indexOf(typeof O)>=0}var i=/"|\\/g,s=/[\b]/g,a=/\f/g,o=/\n/g,u=/\r/g,g=/\t/g;function c(O){return O=O.replace(i,"\\$&").replace(a,"\\f").replace(s,"\\b").replace(o,"\\n").replace(u,"\\r").replace(g,"\\t"),'"'+O+'"'}var w=/~/g,p=/\//g;function T(O){return O.replace(w,"~0").replace(p,"~1")}return me}var Xr=zr();const Ga=$n(Xr);class ie extends Error{constructor(n,r){super("".concat(n," at position ").concat(r)),this.position=r}}const Zn=32,Yr=10,Hn=9,zn=13,et=160,nt=8192,rt=8202,tt=8239,it=8287,st=12288;function at(e){return/^[0-9A-Fa-f]$/.test(e)}function Y(e){return e>="0"&&e<="9"}function ot(e){return e>=" "}function be(e){return`,:[]/{}()
+`.includes(e)}function sn(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"}function an(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"||e>="0"&&e<="9"}const on=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,un=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function fn(e){return`,[]/{}
+`.includes(e)}function cn(e){return Oe(e)||ut.test(e)}const ut=/^[[{\w-]$/;function ft(e){return e===`
`||e==="\r"||e==="	"||e==="\b"||e==="\f"}function ee(e,n){const r=e.charCodeAt(n);return r===Zn||r===Yr||r===Hn||r===zn}function ct(e,n){const r=e.charCodeAt(n);return r===Zn||r===Hn||r===zn}function lt(e,n){const r=e.charCodeAt(n);return r===et||r>=nt&&r<=rt||r===tt||r===it||r===st}function Oe(e){return Xn(e)||_e(e)}function Xn(e){return e==='"'||e==="“"||e==="”"}function ln(e){return e==='"'}function _e(e){return e==="'"||e==="‘"||e==="’"||e==="`"||e==="´"}function gn(e){return e==="'"}function ae(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const t=e.lastIndexOf(n);return t!==-1?e.substring(0,t)+(r?"":e.substring(t+1)):e}function V(e,n){let r=e.length;if(!ee(e,r-1))return e+n;for(;ee(e,r-1);)r--;return e.substring(0,r)+n+e.substring(r)}function gt(e,n,r){return e.substring(0,n)+e.substring(n+r)}function ht(e){return/[,\n][ \t\r]*$/.test(e)}const pt={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},dt={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function qa(e){let n=0,r="";g(),s()||L(),g();const i=c(",");for(i&&a(),cn(e[n])&&ht(r)?(i||(r=V(r,",")),k()):i&&(r=ae(r,","));e[n]==="}"||e[n]==="]";)n++,a();if(n>=e.length)return r;x();function s(){a();const l=O()||U()||y()||$()||v()||N(!1)||d();return a(),l}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const A=n;let h=o(l);do h=u(),h&&(h=o(l));while(h);return n>A}function o(l){const A=l?ee:ct;let h="";for(;;)if(A(e,n))h+=e[n],n++;else if(lt(e,n))h+=" ",n++;else break;return h.length>0?(r+=h,!0):!1}function u(){if(e[n]==="/"&&e[n+1]==="*"){for(;n<e.length&&!mt(e,n);)n++;return n+=2,!0}if(e[n]==="/"&&e[n+1]==="/"){for(;n<e.length&&e[n]!==`
`;)n++;return!0}return!1}function g(){if(e.slice(n,n+3)==="```"){if(n+=3,sn(e[n]))for(;n<e.length&&an(e[n]);)n++;return a(),!0}return!1}function c(l){return e[n]===l?(r+=e[n],n++,!0):!1}function w(l){return e[n]===l?(n++,!0):!1}function p(){return w("\\")}function T(){return a(),e[n]==="."&&e[n+1]==="."&&e[n+2]==="."?(n+=3,a(),w(","),!0):!1}function O(){if(e[n]==="{"){r+="{",n++,a(),w(",")&&a();let l=!0;for(;n<e.length&&e[n]!=="}";){let A;if(l?(A=!0,l=!1):(A=c(","),A||(r=V(r,",")),a()),T(),!(y()||N(!0))){e[n]==="}"||e[n]==="{"||e[n]==="]"||e[n]==="["||e[n]===void 0?r=ae(r,","):G();break}a();const J=c(":"),R=n>=e.length;J||(cn(e[n])||R?r=V(r,":"):I()),s()||(J||R?r+="null":I())}return e[n]==="}"?(r+="}",n++):r=V(r,"}"),!0}return!1}function U(){if(e[n]==="["){r+="[",n++,a(),w(",")&&a();let l=!0;for(;n<e.length&&e[n]!=="]";)if(l?l=!1:c(",")||(r=V(r,",")),T(),!s()){r=ae(r,",");break}return e[n]==="]"?(r+="]",n++):r=V(r,"]"),!0}return!1}function k(){let l=!0,A=!0;for(;A;)l?l=!1:c(",")||(r=V(r,",")),A=s();A||(r=ae(r,",")),r=`[
`.concat(r,`
]`)}function y(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,h=e[n]==="\\";if(h&&(n++,h=!0),Oe(e[n])){const J=ln(e[n])?ln:gn(e[n])?gn:_e(e[n])?_e:Xn,R=n,q=r.length;let f='"';for(n++;;){if(n>=e.length){const m=S(n-1);return!l&&be(e.charAt(m))?(n=R,r=r.substring(0,q),y(!0)):(f=V(f,'"'),r+=f,!0)}else{if(n===A)return f=V(f,'"'),r+=f,!0;if(J(e[n])){const m=n,E=f.length;if(f+='"',n++,r+=f,a(!1),l||n>=e.length||be(e[n])||Oe(e[n])||Y(e[n]))return C(),!0;const P=S(m-1),_=e.charAt(P);if(_===",")return n=R,r=r.substring(0,q),y(!1,P);if(be(_))return n=R,r=r.substring(0,q),y(!0);r=r.substring(0,q),n=m+1,f="".concat(f.substring(0,E),"\\").concat(f.substring(E))}else if(l&&fn(e[n])){if(e[n-1]===":"&&on.test(e.substring(R+1,n+2)))for(;n<e.length&&un.test(e[n]);)f+=e[n],n++;return f=V(f,'"'),r+=f,C(),!0}else if(e[n]==="\\"){const m=e.charAt(n+1);if(dt[m]!==void 0)f+=e.slice(n,n+2),n+=2;else if(m==="u"){let P=2;for(;P<6&&at(e[n+P]);)P++;P===6?(f+=e.slice(n,n+6),n+=6):n+P>=e.length?n=e.length:D()}else f+=m,n+=2}else{const m=e.charAt(n);m==='"'&&e[n-1]!=="\\"?(f+="\\".concat(m),n++):ft(m)?(f+=pt[m],n++):(ot(m)||Z(m),f+=m,n++)}}h&&p()}}return!1}function C(){let l=!1;for(a();e[n]==="+";){l=!0,n++,a(),r=ae(r,'"',!0);const A=r.length;y()?r=gt(r,A,1):r=V(r,'"')}return l}function $(){const l=n;if(e[n]==="-"){if(n++,M())return W(l),!0;if(!Y(e[n]))return n=l,!1}for(;Y(e[n]);)n++;if(e[n]==="."){if(n++,M())return W(l),!0;if(!Y(e[n]))return n=l,!1;for(;Y(e[n]);)n++}if(e[n]==="e"||e[n]==="E"){if(n++,(e[n]==="-"||e[n]==="+")&&n++,M())return W(l),!0;if(!Y(e[n]))return n=l,!1;for(;Y(e[n]);)n++}if(!M())return n=l,!1;if(n>l){const A=e.slice(l,n),h=/^0\d/.test(A);return r+=h?'"'.concat(A,'"'):A,!0}return!1}function v(){return b("true","true")||b("false","false")||b("null","null")||b("True","true")||b("False","false")||b("None","null")}function b(l,A){return e.slice(n,n+l.length)===l?(r+=A,n+=l.length,!0):!1}function N(l){const A=n;if(sn(e[n])){for(;n<e.length&&an(e[n]);)n++;let h=n;for(;ee(e,h);)h++;if(e[h]==="(")return n=h+1,s(),e[n]===")"&&(n++,e[n]===";"&&n++),!0}for(;n<e.length&&!fn(e[n])&&!Oe(e[n])&&(!l||e[n]!==":");)n++;if(e[n-1]===":"&&on.test(e.substring(A,n+2)))for(;n<e.length&&un.test(e[n]);)n++;if(n>A){for(;ee(e,n-1)&&n>0;)n--;const h=e.slice(A,n);return r+=h==="undefined"?"null":JSON.stringify(h),e[n]==='"'&&n++,!0}}function d(){if(e[n]==="/"){const l=n;for(n++;n<e.length&&(e[n]!=="/"||e[n-1]==="\\");)n++;return n++,r+='"'.concat(e.substring(l,n),'"'),!0}}function S(l){let A=l;for(;A>0&&ee(e,A);)A--;return A}function M(){return n>=e.length||be(e[n])||ee(e,n)}function W(l){r+="".concat(e.slice(l,n),"0")}function Z(l){throw new ie("Invalid character ".concat(JSON.stringify(l)),n)}function x(){throw new ie("Unexpected character ".concat(JSON.stringify(e[n])),n)}function L(){throw new ie("Unexpected end of json string",e.length)}function G(){throw new ie("Object key expected",n)}function I(){throw new ie("Colon expected",n)}function D(){const l=e.slice(n,n+6);throw new ie('Invalid unicode character "'.concat(l,'"'),n)}}function mt(e,n){return e[n]==="*"&&e[n+1]==="/"}var bt=/\s/;function vt(e){for(var n=e.length;n--&&bt.test(e.charAt(n)););return n}var yt=/^\s+/;function wt(e){return e&&e.slice(0,vt(e)+1).replace(yt,"")}var hn=NaN,Ot=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Et=/^0o[0-7]+$/i,At=parseInt;function Be(e){if(typeof e=="number")return e;if(se(e))return hn;if(z(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=z(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=wt(e);var r=St.test(e);return r||Et.test(e)?At(e.slice(2),r?2:8):Ot.test(e)?hn:+e}var Ct=1/0,Nt=17976931348623157e292;function Se(e){if(!e)return e===0?e:0;if(e=Be(e),e===Ct||e===-1/0){var n=e<0?-1:1;return n*Nt}return e===e?e:0}function Tt(e){var n=Se(e),r=n%1;return n===n?r?n-r:n:0}function pe(e){return e}var pn=Object.create,$t=function(){function e(){}return function(n){if(!z(n))return{};if(pn)return pn(n);e.prototype=n;var r=new e;return e.prototype=void 0,r}}();function kt(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}function Ka(){}function Pt(e,n){var r=-1,t=e.length;for(n||(n=Array(t));++r<t;)n[r]=e[r];return n}var Mt=800,It=16,jt=Date.now;function Lt(e){var n=0,r=0;return function(){var t=jt(),i=It-(t-r);if(r=t,i>0){if(++n>=Mt)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Rt(e){return function(){return e}}var Ce=function(){try{var e=Cr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ft=Ce?function(e,n){return Ce(e,"toString",{configurable:!0,enumerable:!1,value:Rt(n),writable:!0})}:pe,Jt=Lt(Ft);function _t(e,n){for(var r=-1,t=e==null?0:e.length;++r<t&&n(e[r],r,e)!==!1;);return e}function ke(e,n,r){n=="__proto__"&&Ce?Ce(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}var Bt=Object.prototype,Ut=Bt.hasOwnProperty;function Yn(e,n,r){var t=e[n];(!(Ut.call(e,n)&&kn(t,r))||r===void 0&&!(n in e))&&ke(e,n,r)}function Pe(e,n,r,t){var i=!r;r||(r={});for(var s=-1,a=n.length;++s<a;){var o=n[s],u=t?t(r[o],e[o],o,r,e):void 0;u===void 0&&(u=e[o]),i?ke(r,o,u):Yn(r,o,u)}return r}var dn=Math.max;function Dt(e,n,r){return n=dn(n===void 0?e.length-1:n,0),function(){for(var t=arguments,i=-1,s=dn(t.length-n,0),a=Array(s);++i<s;)a[i]=t[n+i];i=-1;for(var o=Array(n+1);++i<n;)o[i]=t[i];return o[n]=r(a),kt(e,this,o)}}function Wt(e,n){return Jt(Dt(e,n,pe),e+"")}function Ue(e,n,r){if(!z(r))return!1;var t=typeof n;return(t=="number"?Te(r)&&Pn(n,r.length):t=="string"&&n in r)?kn(r[n],e):!1}function Gt(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}var qt=Object.prototype,Kt=qt.hasOwnProperty;function Vt(e){if(!z(e))return Gt(e);var n=Fn(e),r=[];for(var t in e)t=="constructor"&&(n||!Kt.call(e,t))||r.push(t);return r}function xe(e){return Te(e)?yr(e,!0):Vt(e)}var xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qt=/^\w*$/;function Qe(e,n){if(Q(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||se(e)?!0:Qt.test(e)||!xt.test(e)||n!=null&&e in Object(n)}var Zt="Expected a function";function Ze(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(Zt);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,t);return r.cache=s.set(i,a)||s,a};return r.cache=new(Ze.Cache||Mn),r}Ze.Cache=Mn;var Ht=500;function zt(e){var n=Ze(e,function(t){return r.size===Ht&&r.clear(),t}),r=n.cache;return n}var Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yt=/\\(\\)?/g,ei=zt(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Xt,function(r,t,i,s){n.push(i?s.replace(Yt,"$1"):t||r)}),n});function er(e,n){return Q(e)?e:Qe(e,n)?[e]:ei(wr(e))}function Me(e){if(typeof e=="string"||se(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function He(e,n){n=er(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[Me(n[r++])];return r&&r==t?e:void 0}function ni(e,n,r){var t=e==null?void 0:He(e,n);return t===void 0?r:t}var mn=Ee?Ee.isConcatSpreadable:void 0;function ri(e){return Q(e)||Jn(e)||!!(mn&&e&&e[mn])}function nr(e,n,r,t,i){var s=-1,a=e.length;for(r||(r=ri),i||(i=[]);++s<a;){var o=e[s];n>0&&r(o)?n>1?nr(o,n-1,r,t,i):In(i,o):t||(i[i.length]=o)}return i}var rr=Nr(Object.getPrototypeOf,Object);function ti(e,n,r){var t=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++t<i;)s[t]=e[t+n];return s}function ii(e,n){return e&&Pe(n,fe(n),e)}function si(e,n){return e&&Pe(n,xe(n),e)}var tr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bn=tr&&typeof module=="object"&&module&&!module.nodeType&&module,ai=bn&&bn.exports===tr,vn=ai?_n.Buffer:void 0,yn=vn?vn.allocUnsafe:void 0;function oi(e,n){if(n)return e.slice();var r=e.length,t=yn?yn(r):new e.constructor(r);return e.copy(t),t}function ui(e,n){return Pe(e,jn(e),n)}var fi=Object.getOwnPropertySymbols,ir=fi?function(e){for(var n=[];e;)In(n,jn(e)),e=rr(e);return n}:Or;function ci(e,n){return Pe(e,ir(e),n)}function li(e){return Sr(e,xe,ir)}var gi=Object.prototype,hi=gi.hasOwnProperty;function pi(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&hi.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function ze(e){var n=new e.constructor(e.byteLength);return new en(n).set(new en(e)),n}function di(e,n){var r=n?ze(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var mi=/\w*$/;function bi(e){var n=new e.constructor(e.source,mi.exec(e));return n.lastIndex=e.lastIndex,n}var wn=Ee?Ee.prototype:void 0,On=wn?wn.valueOf:void 0;function vi(e){return On?Object(On.call(e)):{}}function yi(e,n){var r=n?ze(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var wi="[object Boolean]",Oi="[object Date]",Si="[object Map]",Ei="[object Number]",Ai="[object RegExp]",Ci="[object Set]",Ni="[object String]",Ti="[object Symbol]",$i="[object ArrayBuffer]",ki="[object DataView]",Pi="[object Float32Array]",Mi="[object Float64Array]",Ii="[object Int8Array]",ji="[object Int16Array]",Li="[object Int32Array]",Ri="[object Uint8Array]",Fi="[object Uint8ClampedArray]",Ji="[object Uint16Array]",_i="[object Uint32Array]";function Bi(e,n,r){var t=e.constructor;switch(n){case $i:return ze(e);case wi:case Oi:return new t(+e);case ki:return di(e,r);case Pi:case Mi:case Ii:case ji:case Li:case Ri:case Fi:case Ji:case _i:return yi(e,r);case Si:return new t;case Ei:case Ni:return new t(e);case Ai:return bi(e);case Ci:return new t;case Ti:return vi(e)}}function Ui(e){return typeof e.constructor=="function"&&!Fn(e)?$t(rr(e)):{}}var Di="[object Map]";function Wi(e){return Bn(e)&&We(e)==Di}var Sn=Ae&&Ae.isMap,Gi=Sn?Ge(Sn):Wi,qi="[object Set]";function Ki(e){return Bn(e)&&We(e)==qi}var En=Ae&&Ae.isSet,Vi=En?Ge(En):Ki,xi=1,Qi=2,Zi=4,sr="[object Arguments]",Hi="[object Array]",zi="[object Boolean]",Xi="[object Date]",Yi="[object Error]",ar="[object Function]",es="[object GeneratorFunction]",ns="[object Map]",rs="[object Number]",or="[object Object]",ts="[object RegExp]",is="[object Set]",ss="[object String]",as="[object Symbol]",os="[object WeakMap]",us="[object ArrayBuffer]",fs="[object DataView]",cs="[object Float32Array]",ls="[object Float64Array]",gs="[object Int8Array]",hs="[object Int16Array]",ps="[object Int32Array]",ds="[object Uint8Array]",ms="[object Uint8ClampedArray]",bs="[object Uint16Array]",vs="[object Uint32Array]",j={};j[sr]=j[Hi]=j[us]=j[fs]=j[zi]=j[Xi]=j[cs]=j[ls]=j[gs]=j[hs]=j[ps]=j[ns]=j[rs]=j[or]=j[ts]=j[is]=j[ss]=j[as]=j[ds]=j[ms]=j[bs]=j[vs]=!0;j[Yi]=j[ar]=j[os]=!1;function oe(e,n,r,t,i,s){var a,o=n&xi,u=n&Qi,g=n&Zi;if(r&&(a=i?r(e,t,i,s):r(e)),a!==void 0)return a;if(!z(e))return e;var c=Q(e);if(c){if(a=pi(e),!o)return Pt(e,a)}else{var w=We(e),p=w==ar||w==es;if(Tr(e))return oi(e,o);if(w==or||w==sr||p&&!i){if(a=u||p?{}:Ui(e),!o)return u?ci(e,si(a,e)):ui(e,ii(a,e))}else{if(!j[w])return i?e:{};a=Bi(e,w,o)}}s||(s=new Ln);var T=s.get(e);if(T)return T;s.set(e,a),Vi(e)?e.forEach(function(k){a.add(oe(k,n,r,k,e,s))}):Gi(e)&&e.forEach(function(k,y){a.set(y,oe(k,n,r,y,e,s))});var O=g?u?li:Er:u?xe:fe,U=c?void 0:O(e);return _t(U||e,function(k,y){U&&(y=k,k=e[y]),Yn(a,y,oe(k,n,r,y,e,s))}),a}var ys=1,ws=4;function Va(e){return oe(e,ys|ws)}var Os=1,Ss=4;function xa(e,n){return n=typeof n=="function"?n:void 0,oe(e,Os|Ss,n)}var Es=1,As=2;function Cs(e,n,r,t){var i=r.length,s=i,a=!t;if(e==null)return!s;for(e=Object(e);i--;){var o=r[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=r[i];var u=o[0],g=e[u],c=o[1];if(a&&o[2]){if(g===void 0&&!(u in e))return!1}else{var w=new Ln;if(t)var p=t(g,c,u,e,n,w);if(!(p===void 0?Rn(c,g,Es|As,t,w):p))return!1}}return!0}function ur(e){return e===e&&!z(e)}function Ns(e){for(var n=fe(e),r=n.length;r--;){var t=n[r],i=e[t];n[r]=[t,i,ur(i)]}return n}function fr(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}function Ts(e){var n=Ns(e);return n.length==1&&n[0][2]?fr(n[0][0],n[0][1]):function(r){return r===e||Cs(r,e,n)}}function $s(e,n){return e!=null&&n in Object(e)}function ks(e,n,r){n=er(n,e);for(var t=-1,i=n.length,s=!1;++t<i;){var a=Me(n[t]);if(!(s=e!=null&&r(e,a)))break;e=e[a]}return s||++t!=i?s:(i=e==null?0:e.length,!!i&&$r(i)&&Pn(a,i)&&(Q(e)||Jn(e)))}function Ps(e,n){return e!=null&&ks(e,n,$s)}var Ms=1,Is=2;function js(e,n){return Qe(e)&&ur(n)?fr(Me(e),n):function(r){var t=ni(r,e);return t===void 0&&t===n?Ps(r,e):Rn(n,t,Ms|Is)}}function Ls(e){return function(n){return n?.[e]}}function Rs(e){return function(n){return He(n,e)}}function Fs(e){return Qe(e)?Ls(Me(e)):Rs(e)}function de(e){return typeof e=="function"?e:e==null?pe:typeof e=="object"?Q(e)?js(e[0],e[1]):Ts(e):Fs(e)}function Js(e,n,r,t){for(var i=-1,s=e==null?0:e.length;++i<s;){var a=e[i];n(t,a,r(a),e)}return t}function cr(e){return function(n,r,t){for(var i=-1,s=Object(n),a=t(n),o=a.length;o--;){var u=a[e?o:++i];if(r(s[u],u,s)===!1)break}return n}}var _s=cr();function lr(e,n){return e&&_s(e,n,fe)}function gr(e,n){return function(r,t){if(r==null)return r;if(!Te(r))return e(r,t);for(var i=r.length,s=n?i:-1,a=Object(r);(n?s--:++s<i)&&t(a[s],s,a)!==!1;);return r}}var hr=gr(lr);function Bs(e,n,r,t){return hr(e,function(i,s,a){n(t,i,r(i),a)}),t}function pr(e,n){return function(r,t){var i=Q(r)?Js:Bs,s=n?n():{};return i(r,e,de(t),s)}}var Le=function(){return _n.Date.now()},Us="Expected a function",Ds=Math.max,Ws=Math.min;function Qa(e,n,r){var t,i,s,a,o,u,g=0,c=!1,w=!1,p=!0;if(typeof e!="function")throw new TypeError(Us);n=Be(n)||0,z(r)&&(c=!!r.leading,w="maxWait"in r,s=w?Ds(Be(r.maxWait)||0,n):s,p="trailing"in r?!!r.trailing:p);function T(N){var d=t,S=i;return t=i=void 0,g=N,a=e.apply(S,d),a}function O(N){return g=N,o=setTimeout(y,n),c?T(N):a}function U(N){var d=N-u,S=N-g,M=n-d;return w?Ws(M,s-S):M}function k(N){var d=N-u,S=N-g;return u===void 0||d>=n||d<0||w&&S>=s}function y(){var N=Le();if(k(N))return C(N);o=setTimeout(y,U(N))}function C(N){return o=void 0,p&&t?T(N):(t=i=void 0,a)}function $(){o!==void 0&&clearTimeout(o),g=0,t=u=i=o=void 0}function v(){return o===void 0?a:C(Le())}function b(){var N=Le(),d=k(N);if(t=arguments,i=this,u=N,d){if(o===void 0)return O(u);if(w)return clearTimeout(o),o=setTimeout(y,n),T(u)}return o===void 0&&(o=setTimeout(y,n)),a}return b.cancel=$,b.flush=v,b}function dr(e){return typeof e=="function"?e:pe}function Gs(e,n){for(var r=e==null?0:e.length;r--&&n(e[r],r,e)!==!1;);return e}var qs=cr(!0);function Ks(e,n){return e&&qs(e,n,fe)}var Vs=gr(Ks,!0);function Za(e,n){var r=Q(e)?Gs:Vs;return r(e,dr(n))}function Ha(e){return e&&e.length?e[0]:void 0}function mr(e,n){var r=-1,t=Te(e)?Array(e.length):[];return hr(e,function(i,s,a){t[++r]=n(i,s,a)}),t}function za(e,n){var r=Q(e)?we:mr;return r(e,de(n))}var xs=Object.prototype,Qs=xs.hasOwnProperty,Xa=pr(function(e,n,r){Qs.call(e,r)?e[r].push(n):ke(e,r,[n])});function Ya(e){var n=e==null?0:e.length;return n?ti(e,0,-1):[]}function Zs(e,n){return e<n}function eo(e,n){var r={};return n=de(n),lr(e,function(t,i,s){ke(r,i,n(t,i,s))}),r}function Hs(e,n,r){for(var t=-1,i=e.length;++t<i;){var s=e[t],a=n(s);if(a!=null&&(o===void 0?a===a&&!se(a):r(a,o)))var o=a,u=s}return u}function no(e,n){return e&&e.length?Hs(e,de(n),Zs):void 0}function zs(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}function Xs(e,n){if(e!==n){var r=e!==void 0,t=e===null,i=e===e,s=se(e),a=n!==void 0,o=n===null,u=n===n,g=se(n);if(!o&&!g&&!s&&e>n||s&&a&&u&&!o&&!g||t&&a&&u||!r&&u||!i)return 1;if(!t&&!s&&!g&&e<n||g&&r&&i&&!t&&!s||o&&r&&i||!a&&i||!u)return-1}return 0}function Ys(e,n,r){for(var t=-1,i=e.criteria,s=n.criteria,a=i.length,o=r.length;++t<a;){var u=Xs(i[t],s[t]);if(u){if(t>=o)return u;var g=r[t];return u*(g=="desc"?-1:1)}}return e.index-n.index}function ea(e,n,r){n.length?n=we(n,function(s){return Q(s)?function(a){return He(a,s.length===1?s[0]:s)}:s}):n=[pe];var t=-1;n=we(n,Ge(de));var i=mr(e,function(s,a,o){var u=we(n,function(g){return g(s)});return{criteria:u,index:++t,value:s}});return zs(i,function(s,a){return Ys(s,a,r)})}var ro=pr(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]}),na=Math.ceil,ra=Math.max;function ta(e,n,r,t){for(var i=-1,s=ra(na((n-e)/(r||1)),0),a=Array(s);s--;)a[t?s:++i]=e,e+=r;return a}function ia(e){return function(n,r,t){return t&&typeof t!="number"&&Ue(n,r,t)&&(r=t=void 0),n=Se(n),r===void 0?(r=n,n=0):r=Se(r),t=t===void 0?n<r?1:-1:Se(t),ta(n,r,t,e)}}var to=ia(),io=Wt(function(e,n){if(e==null)return[];var r=n.length;return r>1&&Ue(e,n[0],n[1])?n=[]:r>2&&Ue(n[0],n[1],n[2])&&(n=[n[0]]),ea(e,nr(n,1),[])}),sa=9007199254740991,Re=4294967295,aa=Math.min;function so(e,n){if(e=Tt(e),e<1||e>sa)return[];var r=Re,t=aa(e,Re);n=dr(n),e-=Re;for(var i=Ar(t,n);++r<e;)n(r);return i}const Ie=e=>Array.isArray(e),oa=e=>e&&typeof e=="object"&&!Ie(e),ua=e=>typeof e=="string";function F(e){return(...n)=>{const r=n.map(s=>B(s)),t=r[0],i=r[1];return r.length===1?s=>e(t(s)):r.length===2?s=>e(t(s),i(s)):s=>e(...r.map(a=>a(s)))}}const ne={pipe:(...e)=>{const n=e.map(r=>B(r));return r=>n.reduce((t,i)=>i(t),r)},object:e=>{const n=Object.keys(e).map(r=>[r,B(e[r])]);return r=>{const t={};for(const[i,s]of n)t[i]=s(r);return t}},array:(...e)=>{const n=e.map(r=>B(r));return r=>n.map(t=>t(r))},get:(...e)=>{if(e.length===0)return n=>n??null;if(e.length===1){const n=e[0];return r=>r?.[n]??null}return n=>{let r=n;for(const t of e)r=r?.[t];return r??null}},map:e=>{const n=B(e);return r=>r.map(n)},mapObject:e=>{const n=B(e);return r=>{const t={};for(const i of Object.keys(r)){const s=n({key:i,value:r[i]});t[s.key]=s.value}return t}},mapKeys:e=>{const n=B(e);return r=>{const t={};for(const i of Object.keys(r)){const s=n(i);t[s]=r[i]}return t}},mapValues:e=>{const n=B(e);return r=>{const t={};for(const i of Object.keys(r))t[i]=n(r[i]);return t}},filter:e=>{const n=B(e);return r=>r.filter(t=>An(n(t)))},sort:(e=["get"],n)=>{const r=B(e),t=n==="desc"?-1:1;function i(s,a){const o=r(s),u=r(a);return o>u?t:o<u?-t:0}return s=>s.slice().sort(i)},reverse:()=>e=>e.toReversed(),pick:(...e)=>{const n=e.map(([t,...i])=>[i[i.length-1],ne.get(...i)]),r=(t,i)=>{const s={};for(const[a,o]of i)s[a]=o(t);return s};return t=>Ie(t)?t.map(i=>r(i,n)):r(t,n)},groupBy:e=>{const n=B(e);return r=>{const t={};for(const i of r){const s=n(i);t[s]?t[s].push(i):t[s]=[i]}return t}},keyBy:e=>{const n=B(e);return r=>{const t={};for(const i of r){const s=n(i);s in t||(t[s]=i)}return t}},flatten:()=>e=>e.flat(),join:(e="")=>n=>n.join(e),split:F((e,n)=>n!==void 0?e.split(n):e.trim().split(/\s+/)),substring:F((e,n,r)=>e.slice(Math.max(n,0),r)),uniq:()=>e=>[...new Set(e)],uniqBy:e=>n=>Object.values(ne.keyBy(e)(n)),limit:e=>n=>n.slice(0,Math.max(e,0)),size:()=>e=>e.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>e=>e.reduce((n,r)=>n*r),sum:()=>e=>e.reduce((n,r)=>n+r),average:()=>e=>ne.sum()(e)/e.length,min:()=>e=>Math.min(...e),max:()=>e=>Math.max(...e),and:F((e,n)=>!!(e&&n)),or:F((e,n)=>!!(e||n)),not:F(e=>!e),exists:e=>{const n=e.slice(1),r=n.pop(),t=ne.get(...n);return i=>{const s=t(i);return!!s&&Object.hasOwnProperty.call(s,r)}},if:(e,n,r)=>{const t=B(e),i=B(n),s=B(r);return a=>An(t(a))?i(a):s(a)},in:(e,n)=>{const r=B(e),t=B(n);return i=>t(i).includes(r(i))},"not in":(e,n)=>{const r=ne.in(e,n);return t=>!r(t)},regex:(e,n,r)=>{const t=new RegExp(n,r),i=B(e);return s=>t.test(i(s))},eq:F((e,n)=>e===n),gt:F((e,n)=>e>n),gte:F((e,n)=>e>=n),lt:F((e,n)=>e<n),lte:F((e,n)=>e<=n),ne:F((e,n)=>e!==n),add:F((e,n)=>e+n),subtract:F((e,n)=>e-n),multiply:F((e,n)=>e*n),divide:F((e,n)=>e/n),pow:F((e,n)=>e**n),mod:F((e,n)=>e%n),abs:F(Math.abs),round:F((e,n=0)=>+`${Math.round(+`${e}e${n}`)}e${-n}`),number:F(e=>{const n=Number(e);return Number.isNaN(Number(e))?null:n}),string:F(String)},An=e=>e!==null&&e!==0&&e!==!1,ve=[];function B(e,n){ve.unshift({...ne,...ve[0],...n?.functions});try{const r=Ie(e)?fa(e,ve[0]):oa(e)?br(`Function notation ["object", {...}] expected but got ${JSON.stringify(e)}`):()=>e;return t=>{try{return r(t)}catch(i){throw i.jsonquery=[{data:t,query:e},...i.jsonquery??[]],i}}}finally{ve.shift()}}function fa(e,n){const[r,...t]=e,i=n[r];return i||br(`Unknown function '${r}'`),i(...t)}function br(e){throw new Error(e)}const vr={and:"and",or:"or",eq:"==",gt:">",gte:">=",lt:"<",lte:"<=",ne:"!=",add:"+",subtract:"-",multiply:"*",divide:"/",pow:"^",mod:"%",in:"in","not in":"not in"},ca=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,la=/^[a-zA-Z_$][a-zA-Z\d_$]*/,ga=/^"(?:[^"\\]|\\.)*"/,ha=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,pa=/^(0|[1-9][0-9]*)/,da=/^(true|false|null)/,ma=/^[ \n\t\r]+/;function ba(e,n){const r={...vr,...n?.operators},t=Object.keys(r).sort((d,S)=>S.length-d.length),i=()=>{C();const d=s();if(C(),e[b]==="|"){const S=[d];for(;e[b]==="|";)b++,C(),S.push(s());return["pipe",...S]}return d},s=()=>{const d=a();C();for(const S of t){const M=r[S];if(e.substring(b,b+M.length)===M){b+=M.length,C();const W=a();return[S,d,W]}}return d},a=()=>{if(e[b]==="("){b++;const d=i();return $(")"),d}return o()},o=()=>{if(e[b]==="."){const d=[];for(;e[b]===".";)b++,d.push(w()??p()??O()??v("Property expected"));return["get",...d]}return u()},u=()=>{const d=b,S=p();if(C(),!S||e[b]!=="(")return b=d,g();b++,!(n!=null&&n.functions[S])&&!ne[S]&&v(`Unknown function '${S}'`),C();const M=e[b]!==")"?[i()]:[];for(;b<e.length&&e[b]!==")";)C(),$(","),M.push(i());return $(")"),[S,...M]},g=()=>{if(e[b]==="{"){b++,C();const d={};let S=!0;for(;b<e.length&&e[b]!=="}";){S?S=!1:($(","),C());const M=w()??p()??O()??v("Key expected");C(),$(":"),d[M]=i()}return $("}"),["object",d]}return c()},c=()=>{if(e[b]==="["){b++,C();const d=[];let S=!0;for(;b<e.length&&e[b]!=="]";)S?S=!1:($(","),C()),d.push(i());return $("]"),["array",...d]}return w()??T()??U()},w=()=>y(ga,JSON.parse),p=()=>y(la,d=>d),T=()=>y(ha,JSON.parse),O=()=>y(pa,JSON.parse),U=()=>{const d=y(da,JSON.parse);if(d!==void 0)return d;v("Value expected")},k=()=>{C(),b<e.length&&v(`Unexpected part '${e.substring(b)}'`)},y=(d,S)=>{const M=e.substring(b).match(d);if(M)return b+=M[0].length,S(M[0])},C=()=>y(ma,d=>d),$=d=>{e[b]!==d&&v(`Character '${d}' expected`),b++},v=(d,S=b)=>{throw new SyntaxError(`${d} (pos: ${S})`)};let b=0;const N=i();return k(),N}const va=40,ya="  ",ao=(e,n)=>{const r=ya,t=(g,c)=>Ie(g)?i(g,c):JSON.stringify(g),i=(g,c)=>{var w;const[p,...T]=g;if(p==="get"&&T.length>0)return a(T);if(p==="pipe"){const y=T.map(C=>t(C,c+r));return u(y,[""," | ",""],["",`
${c+r}| `,""])}if(p==="object")return s(T[0],c);if(p==="array"){const y=T.map(C=>t(C,c));return u(y,["[",", ","]"],[`[
${c+r}`,`,
${c+r}`,`
${c}]`])}const O=((w=void 0)==null?void 0:w[p])??vr[p];if(O&&T.length===2){const[y,C]=T,$=t(y,c),v=t(C,c);return`(${$} ${O} ${v})`}const U=T.length===1?c:c+r,k=T.map(y=>t(y,U));return T.length===1&&k[0][0]==="("?`${p}${k[0]}`:u(k,[`${p}(`,", ",")"],T.length===1?[`${p}(`,`,
${c}`,")"]:[`${p}(
${U}`,`,
${U}`,`
${c})`])},s=(g,c)=>{const w=c+r,p=Object.entries(g).map(([T,O])=>`${o(T)}: ${t(O,w)}`);return u(p,["{ ",", "," }"],[`{
${w}`,`,
${w}`,`
${c}}`])},a=g=>g.map(c=>`.${o(c)}`).join(""),o=g=>ca.test(g)?g:JSON.stringify(g),u=(g,[c,w,p],[T,O,U])=>c.length+g.reduce((k,y)=>k+y.length+w.length,0)-w.length+p.length<=va?c+g.join(w)+p:T+g.join(O)+U;return t(e,"")};function oo(e,n,r){return B(ua(n)?ba(n,r):n,r)(e)}var Fe={exports:{}},Cn;function wa(){if(Cn)return Fe.exports;Cn=1;/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var e=function(n,r){var t,i,s=1,a=0,o=0,u=String.alphabet;function g(c,w,p){if(p){for(t=w;p=g(c,t),p<76&&p>65;)++t;return+c.slice(w-1,t)}return p=u&&u.indexOf(c.charAt(w)),p>-1?p+76:(p=c.charCodeAt(w)||0,p<45||p>127?p:p<46?65:p<48?p-1:p<58?p+18:p<65?p-11:p<91?p+11:p<97?p-37:p<123?p+5:p-63)}if((n+="")!=(r+="")){for(;s;)if(i=g(n,a++),s=g(r,o++),i<76&&s<76&&i>66&&s>66&&(i=g(n,a,a),s=g(r,o,a=t),o=t),i!=s)return i<s?-1:1}return 0};try{Fe.exports=e}catch{String.naturalCompare=e}return Fe.exports}var Oa=wa();const uo=$n(Oa);var Nn=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function Sa(e,n){return!!(e===n||Nn(e)&&Nn(n))}function Ea(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!Sa(e[r],n[r]))return!1;return!0}function fo(e,n){n===void 0&&(n=Ea);var r=null;function t(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&n(i,r.lastArgs))return r.lastResult;var a=e.apply(this,i);return r={lastResult:a,lastArgs:i,lastThis:this},a}return t.clear=function(){r=null},t}function Aa(e,n=e.state){const r=new Set;for(const{from:t,to:i}of e.visibleRanges){let s=t;for(;s<=i;){const a=n.doc.lineAt(s);r.has(a)||r.add(a),s=a.to+1}}return r}function De(e){const n=e.selection.main.head;return e.doc.lineAt(n)}function Tn(e,n){let r=0;e:for(let t=0;t<e.length;t++)switch(e[t]){case" ":case" ":{r+=1;continue e}case"	":{r+=n-r%n;continue e}case"\r":continue e;default:break e}return r}const Ne=kr.define({combine(e){return Mr(e,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class Ca{constructor(n,r,t,i){this.lines=n,this.state=r,this.map=new Map,this.unitWidth=t,this.markerType=i;for(const s of this.lines)this.add(s);this.state.facet(Ne).highlightActiveBlock&&this.findAndSetActiveLines()}has(n){return this.map.has(typeof n=="number"?n:n.number)}get(n){const r=this.map.get(typeof n=="number"?n:n.number);if(!r)throw new Error("Line not found in indentation map");return r}set(n,r,t){const i=!n.text.trim().length,s={line:n,col:r,level:t,empty:i};return this.map.set(s.line.number,s),s}add(n){if(this.has(n))return this.get(n);if(!n.length||!n.text.trim().length){if(n.number===1)return this.set(n,0,0);if(n.number===this.state.doc.lines){const a=this.closestNonEmpty(n,-1);return this.set(n,0,a.level)}const i=this.closestNonEmpty(n,-1),s=this.closestNonEmpty(n,1);return i.level>=s.level&&this.markerType!=="codeOnly"?this.set(n,0,i.level):i.empty&&i.level===0&&s.level!==0?this.set(n,0,0):s.level>i.level?this.set(n,0,i.level+1):this.set(n,0,s.level)}const r=Tn(n.text,this.state.tabSize),t=Math.floor(r/this.unitWidth);return this.set(n,r,t)}closestNonEmpty(n,r){let t=n.number+r;for(;r===-1?t>=1:t<=this.state.doc.lines;){if(this.has(t)){const a=this.get(t);if(!a.empty)return a}const s=this.state.doc.line(t);if(s.text.trim().length){const a=Tn(s.text,this.state.tabSize),o=Math.floor(a/this.unitWidth);return this.set(s,a,o)}t+=r}const i=this.state.doc.line(r===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const n=De(this.state);if(!this.has(n))return;let r=this.get(n);if(this.has(r.line.number+1)){const s=this.get(r.line.number+1);s.level>r.level&&(r=s)}if(this.has(r.line.number-1)){const s=this.get(r.line.number-1);s.level>r.level&&(r=s)}if(r.level===0)return;r.active=r.level;let t,i;for(t=r.line.number;t>1;t--){if(!this.has(t-1))continue;const s=this.get(t-1);if(s.level<r.level)break;s.active=r.level}for(i=r.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const s=this.get(i+1);if(s.level<r.level)break;s.active=r.level}}}function Na(e){const n={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let r=n;return e&&(r=Object.assign(Object.assign({},n),e)),Ir.baseTheme({"&light":{"--indent-marker-bg-color":r.light,"--indent-marker-active-bg-color":r.activeLight},"&dark":{"--indent-marker-bg-color":r.dark,"--indent-marker-active-bg-color":r.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function ye(e,n,r,t,i){return`${`repeating-linear-gradient(to right, var(${e}) 0 ${n}px, transparent ${n}px ${r}ch)`} ${t*r}.5ch/calc(${r*i}ch - 1px) no-repeat`}function Ta(e,n,r,t,i){const{level:s,active:a}=e;if(i=i??t,r&&s===0)return[];const o=r?1:0,u=[];if(a!==void 0){const g=a-o-1;g>0&&u.push(ye("--indent-marker-bg-color",t,n,o,g)),u.push(ye("--indent-marker-active-bg-color",i,n,a-1,1)),a!==s&&u.push(ye("--indent-marker-bg-color",t,n,a,s-a))}else u.push(ye("--indent-marker-bg-color",t,n,o,s-o));return u.join(",")}class $a{constructor(n){this.view=n,this.unitWidth=nn(n.state),this.currentLineNumber=De(n.state).number,this.generate(n.state)}update(n){const r=nn(n.state),t=r!==this.unitWidth;t&&(this.unitWidth=r);const i=De(n.state).number,s=i!==this.currentLineNumber;this.currentLineNumber=i;const a=n.state.facet(Ne).highlightActiveBlock&&s;(n.docChanged||n.viewportChanged||t||a)&&this.generate(n.state)}generate(n){const r=new jr,t=Aa(this.view,n),{hideFirstIndent:i,markerType:s,thickness:a,activeThickness:o}=n.facet(Ne),u=new Ca(t,n,this.unitWidth,s);for(const g of t){const c=u.get(g.number);if(!c?.level)continue;const w=Ta(c,this.unitWidth,i,a,o);r.add(g.from,g.from,Lr.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${w}`}}))}this.decorations=r.finish()}}function co(e={}){return[Ne.of(e),Na(e.colors),Pr.fromClass($a,{decorations:n=>n.decorations})]}export{_t as $,so as A,Za as B,Ua as C,ba as D,to as E,Qa as F,ao as G,oo as H,ro as I,Xa as J,eo as K,fo as L,co as M,Va as N,qn as O,Ve as P,ja as Q,Ba as R,Je as S,Da as T,rn as U,Tt as V,pe as W,$t as X,Pt as Y,Lt as Z,uo as _,Gn as a,Jt as a0,kt as a1,Wt as a2,Ue as a3,Pe as a4,Yn as a5,xe as a6,ni as a7,nr as a8,Dt as a9,Ts as aA,js as aB,Hs as aC,li as aD,ea as aE,Ls as aF,Ps as aG,Xs as aH,ia as aI,Vs as aJ,ei as aK,wt as aL,vt as aM,Le as aN,Ze as aO,Gi as aP,Vi as aQ,Fs as aR,rr as aa,Me as ab,ke as ac,ti as ad,Be as ae,oe as af,de as ag,pr as ah,ii as ai,oi as aj,yi as ak,Ui as al,_s as am,hr as an,dr as ao,lr as ap,Ks as aq,qs as ar,ks as as,Se as at,Rt as au,He as av,er as aw,Cs as ax,Ns as ay,Zs as az,no as b,H as c,ge as d,La as e,Ra as f,X as g,Fa as h,Ur as i,qa as j,Ja as k,_a as l,za as m,Ya as n,ce as o,Kn as p,le as q,Ke as r,io as s,$e as t,Wn as u,Ha as v,Ka as w,Wa as x,xa as y,Ga as z};
